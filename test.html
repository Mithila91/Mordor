<html>

<head>


    <!-- A-Frame 0.7.1 -->
    <script src="//aframe.io/releases/0.7.1/aframe.min.js"></script>

    <!-- A-Frame Extras -->
    <script src="//unpkg.com/aframe-extras@3.13.1/dist/aframe-extras.min.js"></script>

    <!-- A-Frame Animation -->
    <script src="//unpkg.com/aframe-animation-component@4.1.*/dist/aframe-animation-component.min.js"></script>

    <!--Text-->
    <script
        src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script>

    <!--Tone-->
    <script src="//unpkg.com/tone@14.8.25/build/Tone.js"></script>




</head>

<body>

    <!-- Scene -->

    <a-scene stats="false" background="color: black;" fog="color: #633; near: 0; far: 300;">
        <a-sky color="#000"></a-sky>


        <a-assets>
            <!--Texture for the Crate-->
            <img id="crate-texture" src="https://aframe.io/sample-assets/assets/images/wood/crate.gif"
                crossorigin="anonymous">
            <!--a-mixin components-->
            <a-mixin id="floor" geometry="primitive: box; height: 1; depth: 10; width: 20;" material="color: #333;"
                shadow="receive: true;" static-body></a-mixin>



            <!--qr texture and marker-->
            <img id="texture" src="assets/pattern-testbarcode.png">
            <img id="QrCode" src="assets/MordorQr.png">

            <!--Personal font-->
            <a-asset-item id="optimerBoldFont"
                src="https://rawgit.com/mrdoob/three.js/dev/examples/fonts/optimer_bold.typeface.json"></a-asset-item>

            <a-asset-item id="mutant" src="assets/mutant.scene.glb"></a-asset-item>

        </a-assets>


        <!--Terrain-->
        <a-entity id="city" position="2 -30 0" gltf-model="assets/city_scene.gltf" static-body="sphereRadius: NaN"
            scale="500 500 500" material="" geometry="">

        </a-entity>

        <!--orcs-->
        <a-entity id="mutant" gltf-model="#mutant" scale="0.10 0.10 0.10" position="-70 -15  -40" rotation="0 180 0"
            animation-mixer>
        </a-entity>

        <!--Text-->


        <a-entity id="firstText" text-geometry="value: Watch out for the Orcs..; font: #optimerBoldFont"
            position="0 0.04 27.503" rotation="180 0 180"></a-entity>
        <!--QR code to Glitch page-->

        <a-image id="QR" src="#QrCode" position="8 4 -3" rotation="0 90 0"></a-image>

        <!--First Marker-->

        <a-entity id="link" text-geometry="value: Shhh.. ; font: #optimerBoldFont" position="-55 3.5 -5"
            rotation="0 90 0"></a-entity>
        <a-box material="src: #texture" rotation="90 90 0" position="-55 2 -6"></a-box>


        <!-- Camera 0.7.1 -->

        <a-entity camera="userHeight: 1.6;" kinematic-body universal-controls position="0 -6 4"
            light="type: spot; intensity: 1.8; penumbra: 1; angle: 30;">

        </a-entity>

        <!-- Dynamic Crates and floor -->
        <a-box id="crate" dynamic-body material="src: #crate-texture; roughness: 1; metalness: 0;"
            shadow="cast: true; receive: true;" position="2 -6 -17" scale="7 7 7">
        </a-box>

    </a-scene>


</body>

</html>

<!--<script type="text/javascript">


        window.onclick = async function makeNoise() {

            //start up the audio machinery
            await Tone.start();
            const player = new Tone.Player({ url: 'https://cdn.glitch.com/288c61dc-b760-46bb-967a-6ebd58a59883%2FMisha%20%26%20Team%203.wav?v=1621857843842' }).toDestination()
            await Tone.loaded();
            player.start();
        };
    </script>-->



<a-entity movement-controls="speed: 0.35;">
    <a-entity camera look-controls="pointerLockEnabled: false;" position="0 -4 4"
        light="type: spot; intensity: 1.8; penumbra: 1; angle: 30;">

        <!--cursor-->
        <a-entity cursor position="0 0 -1" geometry="primitive: sphere; radius:0.005" material="color: #fff">
        </a-entity>


    </a-entity>
</a-entity>